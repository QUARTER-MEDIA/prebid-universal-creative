/* prebid-universal-creative v1.16.0 - creative.js with pp_pbjs preferred */
!function(){function e(e){try{for(var r=0;r<10;r++){e=e.parent;var t=e.pp_pbjs||e.pbjs;if(t&&"function"==typeof t.renderAd)return t}catch(e){}return null}function r(e){var r={};return["adId","adServerDomain","pubUrl","cacheHost","cachePath","uuid","mediaType","hbPb","size","format","targetingMap","targetingKeywords","clickUrl","clickUrlUnesc"].forEach(function(t){var n=e.getAttribute("data-"+t.toLowerCase());void 0!==n&&null!==n&&(r[t]=n)}),r}function t(e){var t=e||window,n=t.frameElement;if(!n)return;var a=r(n);if(!a.adId)return;var i=n.getAttribute("data-prebid-ad"),o=n.getAttribute("data-json");if(i){var d=n.ownerDocument||t.document;(n.removeAttribute("data-prebid-ad"),n.removeAttribute("data-json"),n.removeAttribute("data-adid"),n.removeAttribute("data-uuid"),n.removeAttribute("data-cachehost"),n.removeAttribute("data-cachepath"),n.removeAttribute("data-clickurl"),n.removeAttribute("data-clickurlunesc"),n.removeAttribute("data-size"),n.removeAttribute("data-hbpb"),n.removeAttribute("data-mediatype"),n.removeAttribute("data-targetingmap"),n.removeAttribute("data-targetingkeywords")),"video"===a.mediaType)return void console.log("Creative type 'video' not supported in this version.");var s=d.createElement("iframe");s.setAttribute("frameborder",0),s.setAttribute("scrolling","no"),s.setAttribute("marginheight",0),s.setAttribute("marginwidth",0),s.setAttribute("allowtransparency","true"),s.setAttribute("width","100%"),s.setAttribute("height","100%"),n.style.overflow="hidden",n.appendChild(s),s.contentDocument.open(),s.contentDocument.write(decodeURIComponent(i)),s.contentDocument.close()}else if(o){try{var c=JSON.parse(o),u=c.adId,l=e.document;!function(e,r){for(var t=0;t<10;t++){e=e.parent;var n=e.pp_pbjs||e.pbjs;if(n&&"function"==typeof n.renderAd)try{return n.renderAd(e.document,r),!0}catch(e){}}return!1}(e,u)||(console.error("Prebid renderAd not found"))}catch(e){console.error("Error parsing ad JSON:",e)}}else{var p=a.adId,f=e.document,m=e;if(!function(e){try{var r=new MessageChannel;r.port1.onmessage=function(t){if(t.data&&"object"==typeof t.data&&t.data.message&&"Prebid Response"===t.data.message){var n=t.data,a=n.adId,i=n.ad,n=n.adUrl,d=n.width,s=n.height;if("video"===n.mediaType)return void console.log("Cannot render video ad "+a);if(i){var c=f.createElement("iframe");c.setAttribute("frameborder",0),c.setAttribute("scrolling","no"),c.setAttribute("marginheight",0),c.setAttribute("marginwidth",0),c.setAttribute("allowtransparency","true"),c.setAttribute("width",d),c.setAttribute("height",s),m.document.body.appendChild(c),c.contentDocument.open(),c.contentDocument.write(i),c.contentDocument.close()}else if(n){var u=f.createElement("iframe");u.src=n,u.width=d,u.height=s,u.style.display="inline",u.style.overflow="hidden",m.document.body.appendChild(u)}else console.error("No ad markup or adUrl for",a)}},e.parent.postMessage(JSON.stringify({message:"Prebid Request",adId:p,adServerDomain:e.location.hostname}),"*",[r.port2])}catch(e){console.error("SafeFrame messaging failed",e)}}(e))try{var g=e.document,v=a.adId;if(!function(e,r){for(var t=0;t<10;t++){e=e.parent;var n=e.pp_pbjs||e.pbjs;if(n&&"function"==typeof n.renderAd)try{return n.renderAd(e.document,r),!0}catch(e){}}return!1}(e,v))console.error("Unable to locate pp_pbjs or pbjs renderAd function")}catch(e){console.error("Exception while rendering",e)}}}window.ucTag=window.ucTag||{},window.ucTag.renderAd=t,window.renderAd=t,window.addEventListener?window.addEventListener("load",function(){t(window)},!1):window.attachEvent&&window.attachEvent("onload",function(){t(window)})}();
